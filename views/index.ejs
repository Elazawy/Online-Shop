<%- include('parts/header.ejs')%>
<%- include('parts/navbar.ejs')%>

<div class="container">
    <!-- Filter Form Start -->
    <form method="GET" action="/" class="mb-4">
        <div class="row">
            <div class="col-10">
                <select name="category" class="form-control">
                    <option value="">All</option>
                    <option value="shirts" <%= category === 'shirts' ? 'selected' : '' %>>Shirts</option>
                    <option value="pants" <%= category === 'pants' ? 'selected' : '' %>>Pants</option>
                    <option value="shoes" <%= category === 'shoes' ? 'selected' : '' %>>Shoes</option>
                    <option value="other" <%= category === 'other' ? 'selected' : '' %>>Other</option>
                </select>
            </div>
            <div class="col-2">
                <button type="submit" class="btn btn-primary w-100">Filter</button>
            </div>
        </div>
    </form>
    <!-- Filter Form End -->

    <div class="row">
        <% if(products.length === 0){ %>
            <div class="alert alert-danger">
                There is no products
            </div>
        <% } else { %>
            <%for(let product of products) { %>
                <div class="col col-12 col-md-6 col-lg-4 col-xl-3">
                    <div class="card" style="width: 18rem;">
                        <img src="/<%=product.image%>" class="card-img-top" alt="Image">
                        <div class="card-body">
                            <h5 class="card-title">
                                <a href="/product/<%= product._id%>"><%= product.name%></a>
                                <p>Price:  <%= product.price%> $</p>
                            </h5>
                            <form action="/cart" method="post">
                                <input type="number" name="amout" class="form-control">
                                <input type="submit" value="Add to cart" class="btn btn-primary">
                            </form>
                        </div>
                    </div>
                </div>
            <% } %>
        <% } %>
    </div>
</div>

<%- include('parts/footer.ejs')%>